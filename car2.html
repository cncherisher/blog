<!DOCTYPE html>
<!-- saved from url=(0028)http://106.12.19.82/car.html -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
        

        <title>Babylon.js sample code</title>

        <!-- Babylon.js -->
        <script src="https://cdnjs.cloudflare.com/ajax/libs/dat-gui/0.6.2/dat.gui.min.js"></script>
        <script src="https://preview.babylonjs.com/ammo.js"></script>
        <script src="https://preview.babylonjs.com/cannon.js"></script>
        <script src="https://preview.babylonjs.com/Oimo.js"></script>
        <script src="https://preview.babylonjs.com/earcut.min.js"></script>
        <script src="https://preview.babylonjs.com/babylon.js"></script>
        <script src="https://preview.babylonjs.com/materialsLibrary/babylonjs.materials.min.js"></script>
        <script src="https://preview.babylonjs.com/proceduralTexturesLibrary/babylonjs.proceduralTextures.min.js"></script>
        <script src="https://preview.babylonjs.com/postProcessesLibrary/babylonjs.postProcess.min.js"></script>
        <script src="https://preview.babylonjs.com/loaders/babylonjs.loaders.js"></script>
        <script src="https://preview.babylonjs.com/serializers/babylonjs.serializers.min.js"></script>
        <script src="https://preview.babylonjs.com/gui/babylon.gui.min.js"></script>
        <script src="https://preview.babylonjs.com/inspector/babylon.inspector.bundle.js"></script>

        

        <style>
            html, body {
                overflow: hidden;
                width: 100%;
                height: 100%;
                margin: 0;
                padding: 0;
            }

            #renderCanvas {
                width: 100%;
                height: 100%;
                touch-action: none;
            }
        </style>
    <style>.babylonVRicon { position: absolute; right: 20px; height: 50px; width: 80px; background-color: rgba(51,51,51,0.7); background-image: url(data:image/svg+xml;charset=UTF-8,%3Csvg%20xmlns%3D%22http%3A//www.w3.org/2000/svg%22%20width%3D%222048%22%20height%3D%221152%22%20viewBox%3D%220%200%202048%201152%22%20version%3D%221.1%22%3E%3Cpath%20transform%3D%22rotate%28180%201024%2C576.0000000000001%29%22%20d%3D%22m1109%2C896q17%2C0%2030%2C-12t13%2C-30t-12.5%2C-30.5t-30.5%2C-12.5l-170%2C0q-18%2C0%20-30.5%2C12.5t-12.5%2C30.5t13%2C30t30%2C12l170%2C0zm-85%2C256q59%2C0%20132.5%2C-1.5t154.5%2C-5.5t164.5%2C-11.5t163%2C-20t150%2C-30t124.5%2C-41.5q23%2C-11%2042%2C-24t38%2C-30q27%2C-25%2041%2C-61.5t14%2C-72.5l0%2C-257q0%2C-123%20-47%2C-232t-128%2C-190t-190%2C-128t-232%2C-47l-81%2C0q-37%2C0%20-68.5%2C14t-60.5%2C34.5t-55.5%2C45t-53%2C45t-53%2C34.5t-55.5%2C14t-55.5%2C-14t-53%2C-34.5t-53%2C-45t-55.5%2C-45t-60.5%2C-34.5t-68.5%2C-14l-81%2C0q-123%2C0%20-232%2C47t-190%2C128t-128%2C190t-47%2C232l0%2C257q0%2C68%2038%2C115t97%2C73q54%2C24%20124.5%2C41.5t150%2C30t163%2C20t164.5%2C11.5t154.5%2C5.5t132.5%2C1.5zm939%2C-298q0%2C39%20-24.5%2C67t-58.5%2C42q-54%2C23%20-122%2C39.5t-143.5%2C28t-155.5%2C19t-157%2C11t-148.5%2C5t-129.5%2C1.5q-59%2C0%20-130%2C-1.5t-148%2C-5t-157%2C-11t-155.5%2C-19t-143.5%2C-28t-122%2C-39.5q-34%2C-14%20-58.5%2C-42t-24.5%2C-67l0%2C-257q0%2C-106%2040.5%2C-199t110%2C-162.5t162.5%2C-109.5t199%2C-40l81%2C0q27%2C0%2052%2C14t50%2C34.5t51%2C44.5t55.5%2C44.5t63.5%2C34.5t74%2C14t74%2C-14t63.5%2C-34.5t55.5%2C-44.5t51%2C-44.5t50%2C-34.5t52%2C-14l14%2C0q37%2C0%2070%2C0.5t64.5%2C4.5t63.5%2C12t68%2C23q71%2C30%20128.5%2C78.5t98.5%2C110t63.5%2C133.5t22.5%2C149l0%2C257z%22%20fill%3D%22white%22%20/%3E%3C/svg%3E%0A); background-size: 80%; background-repeat:no-repeat; background-position: center; border: none; outline: none; transition: transform 0.125s ease-out } .babylonVRicon:hover { transform: scale(1.05) } .babylonVRicon:active {background-color: rgba(51,51,51,1) } .babylonVRicon:focus {background-color: rgba(51,51,51,1) }.babylonVRicon.vrdisplaypresenting { display: none; }</style></head>
<body>
    <canvas id="renderCanvas" width="1920" height="969" touch-action="none" tabindex="1" style="touch-action: none;"></canvas>
    <script>
        var canvas = document.getElementById("renderCanvas");

        var engine = null;
        var scene = null;
        var sceneToRender = null;
        var createDefaultEngine = function() { return new BABYLON.Engine(canvas, true, { preserveDrawingBuffer: true, stencil: true,  disableWebGL2Support: false}); };
        
        var createScene = function () {
        
           
        
            engine.enableOfflineSupport = false;
        
            // 启用物理引擎
            var scene = new BABYLON.Scene(engine);
        	var gravityVector = new BABYLON.Vector3(0,-9.81, 0);
			var physicsPlugin = new BABYLON.CannonJSPlugin();
			scene.enablePhysics(gravityVector, physicsPlugin);
			


			//var camera1 = new BABYLON.WebVRFreeCamera("camera1", new BABYLON.Vector3(100, , 0), scene);
            var camera1 = new BABYLON.ArcRotateCamera("camera1", 10, 0, 0, new BABYLON.Vector3(0, 0.3, 0), scene);
            //var camera1 = new BABYLON.FreeCamera("camera1", new BABYLON.Vector3(0, 0, -2), scene);
            
            scene.activeCamera = camera1;
            scene.activeCamera.attachControl(canvas, true);
            camera1.lowerRadiusLimit = 1.3;
            //camera1.upperRadiusLimit = 50000;
            //camera1.wheelDeltaPercentage = 0.01;
        
            // Lights
            var light = new BABYLON.DirectionalLight("light", new BABYLON.Vector3(0, -0.5, 1.0), scene);
    		light.position = new BABYLON.Vector3(0, 5, -2);

        	var environment = scene.createDefaultEnvironment({ enableGroundShadow: true, groundYBias: 1 });
   			environment.setMainColor(BABYLON.Color3.FromHexString("#ffffff"))
            environment._ground._position=new BABYLON.Vector3(0,-500,0)
               //console.log(environment)
           
        
            // GUI
            var advancedTexture = BABYLON.GUI.AdvancedDynamicTexture.CreateFullscreenUI("UI");
            var instructions = new BABYLON.GUI.TextBlock();
            instructions.text = " ";
            instructions.color = "white";
            instructions.fontSize = 16;
            instructions.textHorizontalAlignment = BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_RIGHT
            instructions.textVerticalAlignment = BABYLON.GUI.Control.VERTICAL_ALIGNMENT_BOTTOM
            advancedTexture.addControl(instructions);
        
        	//var environment = scene.createDefaultEnvironment({ enableGroundShadow: true, groundYBias: 2 });
    		//environment.setMainColor(BABYLON.Color3.FromHexString("#74b9ff"))
            // Ground
            var vrHelper = scene.createDefaultVRExperience({createDeviceOrientationCamera:false});
    		vrHelper.enableTeleportation({ floorMeshName: "camera1" });


            /*var ground = BABYLON.MeshBuilder.CreateGround("ground", { height: 500, width: 500, subdivisions: 4 }, scene);
            var groundMaterial = new BABYLON.StandardMaterial("groundMaterial", scene);
            groundMaterial.diffuseTexture = new BABYLON.Texture("textures/wood.jpg", scene);
            groundMaterial.diffuseTexture.uScale = 30;
            groundMaterial.diffuseTexture.vScale = 30;
            groundMaterial.specularColor = new BABYLON.Color3(.1, .1, .1);
            ground.material = groundMaterial;*/
            

            //按钮1，下一步
            var num=0;
            var gui = BABYLON.GUI.AdvancedDynamicTexture.CreateFullscreenUI("myUI");
            var button = BABYLON.GUI.Button.CreateSimpleButton("button", "下一步");
            button.top = "-200px";
            button.left = "400px";
            button.width = "150px";
            button.height = "50px";
            button.cornerRadius = 20;
            button.thickness = 4;
            button.children[0].color = "#DFF9FB";
            button.children[0].fontSize = 24;
            button.color = "#FF7979";
            button.background = "#EB4D4B";
        	gui.addControl(button);     //激活按钮
            //按钮2：上一步
            var gui2 = BABYLON.GUI.AdvancedDynamicTexture.CreateFullscreenUI("myUI");
            var button2 = BABYLON.GUI.Button.CreateSimpleButton("button", "上一步");
            button2.top = "-100px";
            button2.left = "400px";
            button2.width = "150px";
            button2.height = "50px";
            button2.cornerRadius = 20;
            button2.thickness = 4;
            button2.children[0].color = "#DFF9FB";
            button2.children[0].fontSize = 24;
            button2.color = "#FF7979";
            button2.background = "#EB4D4B";
        	gui2.addControl(button2);     //激活按钮

            //按钮3：重置
            var gui3 = BABYLON.GUI.AdvancedDynamicTexture.CreateFullscreenUI("myUI");
            var button3 = BABYLON.GUI.Button.CreateSimpleButton("button", "重置");
            button3.top = "0px";
            button3.left = "400px";
            button3.width = "150px";
            button3.height = "50px";
            button3.cornerRadius = 20;
            button3.thickness = 4;
            button3.children[0].color = "#DFF9FB";
            button3.children[0].fontSize = 24;
            button3.color = "#FF7979";
            button3.background = "#EB4D4B";
        	gui3.addControl(button3);     //激活按钮


            //动画设置：
            const frameRate = 2;
            const xSlide = new BABYLON.Animation("xSlide", "position.x", frameRate, BABYLON.Animation.ANIMATIONTYPE_FLOAT, BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT);
            const keyFrames = [];

            keyFrames.push({
                frame: 0,
                value:3,
            });

            keyFrames.push({
                frame: frameRate,
                value: 1,
            });

            keyFrames.push({
                frame: 2 * frameRate,
                value: 0,
            });
            xSlide.setKeys(keyFrames);

            const xSlide2 = new BABYLON.Animation("xSlide1", "position.x", frameRate, BABYLON.Animation.ANIMATIONTYPE_FLOAT, BABYLON.Animation.ANIMATIONLOOPMODE_CONSTANT);
            const keyFrames2 = [];

            keyFrames2.push({
                frame: 0,
                value:0,
            });

            keyFrames2.push({
                frame: frameRate,
                value: 1,
            });

            keyFrames2.push({
                frame: 2 * frameRate,
                value: 3,
            });
            
            xSlide2.setKeys(keyFrames2);
            var numberMax=0;
            Whole_obj=[]
            var sv = new BABYLON.GUI.ScrollViewer();
            sv.width = 0.2;
            sv.height = 0.2;
            sv.background = "#CCCCCC";
            sv.top= -200;
            sv.left=-200;
            advancedTexture.addControl(sv);

            var rc = new BABYLON.GUI.Rectangle();
            rc.thickness = 0.1;
            rc.width = 1;
            rc.height = 1;
            rc.horizontalAlignment = BABYLON.GUI.Control.HORIZONTAL_ALIGNMENT_LEFT;
            rc.verticalAlignment = BABYLON.GUI.Control.VERTICAL_ALIGNMENT_TOP;
            rc.color = "red";
            rc.background = "white";

            sv.addControl(rc);

            var image = new BABYLON.GUI.Image("but", "textures/TEX/1.jpg");
            image.width = 0.8;
            image.height = 0.8;
            rc.addControl(image); 
            button.onPointerUpObservable.add(function() {
                for (var i =  0; i <31; i++) {
                	 
                	if(num<31)
                	{
	                    num=num+1;
	                    BABYLON.SceneLoader.ImportMesh("","","GLB2/"+num+".glb",scene,function(res){
	                        console.log("导入成功");
	                        console.log(num);
	                        
	                        //res[1].isVisible=false;
	                        /*if(num!=8){
	                            for(var i =1;i<res.length;i++)
	                            {
	                                //res[i].isVisible=false;
	                                
	                                //res[i]._material.alpha=0.3;
	                                
	                                
	                            }
	                        }*/
	                        console.log(scene);
	                        console.log(res);
	                        Whole_obj.push(res[0])
	                        res[0].animations.push(xSlide);
	                        scene.beginAnimation(res[0],0, 2 * frameRate, true);
	                        }); 
                	}            
                 }
	                var gui4 = BABYLON.GUI.AdvancedDynamicTexture.CreateFullscreenUI("myUI");
	                var button4 = BABYLON.GUI.Button.CreateSimpleButton("button", "菜单");
	                button4.top = "100px";
	                button4.left = "400px";
	                button4.width = "150px";
	                button4.height = "50px";
	                button4.cornerRadius = 20;
	                button4.thickness = 4
	                button4.children[0].color = "#DFF9FB";
	                button4.children[0].fontSize = 24;
	                button4.color = "#FF7979";
	                button4.background = "#EB4D4B";
	                gui4.addControl(button4);
                    var ss=0;
                    button4.onPointerUpObservable.add(function(){
                        if(ss==0)
                        {
                            creatButton();
                            ss=ss+1;
                        }
                        
                     })
                var image = new BABYLON.GUI.Image("but", "textures/TEX/"+(num+1)+".jpg");
                image.width = 0.8;
                image.height = 0.8;
                rc.addControl(image); 
            });
            button2.onPointerUpObservable.add(function() {
                
                obj=Whole_obj[num-1];
                console.log(Whole_obj)
                //obj.animations.push(xSlide2);
                scene.beginAnimation(obj,0,2*frameRate,true)
                
                
            
            });
            button3.onPointerUpObservable.add(function(){
                location.reload();
            });
           
            var clear = function(){
                PointOrNot=0;
                for(var i=5;i<76;i++)
                        {
                            for(var j=0;j<scene.geometries[i]._meshes.length;j++)
                            {
                                scene.geometries[i]._meshes[j].isVisible=true

                            }
                        }
                    
            }
            var opt1=0;
            var jiaoma = function()
            {
                if(PointOrNot==0)
                {
                    
                    PointOrNot=1;
                    for(var i = 5 ; i<76;i++)
                    {
                        if(i<56)
                        {
                            for(var j=0;j<scene.geometries[i]._meshes.length;j++)
                            {
                                scene.geometries[i]._meshes[j].isVisible=false;
                                opt1=1;
                            }
                                        
                        }
                    }
                    
                }
                else
                {
                    if(opt1==1)
                    {
                        for(var i=56;i<76;i++)
                        {
                            for(var j=0;j<scene.geometries[i]._meshes.length;j++)
                            {
                                scene.geometries[i]._meshes[j].isVisible=false;
                            }
                        }
                        opt1=0;
                    }
                    else
                    {
                        for(var i=56;i<76;i++)
                        {
                            for(var j=0;j<scene.geometries[i]._meshes.length;j++)
                            {
                                scene.geometries[i]._meshes[j].isVisible=true;
                            }
                        }
                        opt1=1;
                    }
                    
                }
            }
            var opt2=0
            var jiachilun = function()
            {
                if(PointOrNot==0)
                {
                    PointOrNot=1;
                    for(var i=21;i<76;i++)
                    {
                        for(var j=0;j<scene.geometries[i]._meshes.length;j++)
                        {
                            scene.geometries[i]._meshes[j].isVisible=false

                        }
                    }
                    opt2=1;
                }
                else
                {
                    if(opt2==1)
                    {
                        for(var i=5;i<21;i++)
                        {
                            for(var j=0;j<scene.geometries[i]._meshes.length;j++)
                            {
                                scene.geometries[i]._meshes[j].isVisible=false;

                            }
                        }
                        opt2=0;
                    }
                    else
                    {
                        for(var i=5;i<21;i++)
                        {
                            for(var j=0;j<scene.geometries[i]._meshes.length;j++)
                            {
                                scene.geometries[i]._meshes[j].isVisible=true;

                            }
                        }
                        opt2=1;
                    }
                    
                }
            }
                
            var opt3=0;
            var diban = function(){
				if(PointOrNot==0)
				{
                    PointOrNot=1;
					for(var i=5;i<76;i++)
					{
						if(i!=21)
						{
							for(var j=0;j<scene.geometries[i]._meshes.length;j++)
							{
								scene.geometries[i]._meshes[j].isVisible=false
							}
						}
					}
                    opt3=1;
				}
				else
				{
                    if(opt3==1)
                    {
                        for(var j=0;j<scene.geometries[21]._meshes.length;j++)
                        {
                            scene.geometries[21]._meshes[j].isVisible=false;
                        }
                        opt3=0;
                    }
                    else
                    {
                        for(var j=0;j<scene.geometries[21]._meshes.length;j++)
                        {
                            scene.geometries[21]._meshes[j].isVisible=true;
                        }
                        opt3=1;
                    }
					
				}
                
            }

            var opt4=0
            var caolun = function(){
				if(PointOrNot==0)
				{
					PointOrNot=1;
					for(var i=5;i<76;i++)
					{
						if(i!=22 & i!=23 & i!=24 & i!=25)
						{
							for(var j=0;j<scene.geometries[i]._meshes.length;j++)
							{
								scene.geometries[i]._meshes[j].isVisible=false
							}
						}
					}
                    opt4=1;
				}
				else
				{
                    if(opt4==1)
                    {
                        for(var i=22;i<26;i++)
                        {
                            for(var j=0;j<scene.geometries[i]._meshes.length;j++)
                            {
                                scene.geometries[i]._meshes[j].isVisible=false;
                            }
                        }
                        opt4=0;
                    }
                    else
                    {
                        for(var i=22;i<26;i++)
                        {
                            for(var j=0;j<scene.geometries[i]._meshes.length;j++)
                            {
                                scene.geometries[i]._meshes[j].isVisible=true
                            }
                        }
                        opt4=1;
                    }
				}
            }


            var opt5=0;
            var jiachilundingban =function(){
                if(PointOrNot==0)
                {
                    PointOrNot=1;
                    for(var i=5;i<76;i++)
                    {
                        if(i!=27 & i!=28)
                        {
                            for(var j=0;j<scene.geometries[i]._meshes.length;j++)
						    {
							    scene.geometries[i]._meshes[j].isVisible=false;
						    }
                        }
                    }
                    opt5=1;
                }
                else
                {
                    if(opt5==1)
                    {
                        for(var i=27;i<29;i++)
                        {
                            for(var j=0;j<scene.geometries[i]._meshes.length;j++)
                            {
                                scene.geometries[i]._meshes[j].isVisible=false;
                            }
                        }
                        opt5=0;
                    }
                    else
                    {
                        for(var i=27;i<29;i++)
                        {
                            for(var j=0;j<scene.geometries[i]._meshes.length;j++)
                            {
                                scene.geometries[i]._meshes[j].isVisible=true;
                            }
                        }
                        opt5=1;
                    }
                    
                }
            }



            var opt6=0;
            var dianchiban = function()
            {
                if(PointOrNot==0)
                {
                    PointOrNot=1;
                    for(var i=5;i<76;i++)
                    {
                        if(i!=26)
                        {
                            for(var j=0;j<scene.geometries[i]._meshes.length;j++)
                            {
                                scene.geometries[i]._meshes[j].isVisible=false;
                            }
                        }
                    }
                    opt6=1;
                }
                else
                {
                    if(opt6==1)
                    {
                        for(j=0;j<scene.geometries[26]._meshes.length;j++)
                        {
                            scene.geometries[26]._meshes[j].isVisible=false;
                        }
                        opt6=0;
                    }
                    else
                    {
                        for(j=0;j<scene.geometries[26]._meshes.length;j++)
                        {
                            scene.geometries[26]._meshes[j].isVisible=true;
                        }
                        opt6=1;
                    }
                }

            }

            var opt7=0;
            var jiguangjiaju = function()
            {
                if(PointOrNot==0)
                {
                    PointOrNot=1;
                    for(var i =5;i<76;i++)
                    {
                        if(i!=29)
                        {
                            for(var j=0;j<scene.geometries[i]._meshes.length;j++)
                            {
                                scene.geometries[i]._meshes[j].isVisible=false;
                            }
                        }
                    }
                    opt7=1;
                }
                else
                {
                    if(opt7==1)
                    {
                        for(var j=0;j<scene.geometries[29]._meshes.length;j++)
                        {
                            scene.geometries[29]._meshes[j].isVisible=false;
                        }
                        opt7=0;
                    }
                    else
                    {
                        for(var j=0;j<scene.geometries[29]._meshes.length;j++)
                        {
                            scene.geometries[29]._meshes[j].isVisible=true;
                        }
                        opt7=1;
                    }
                }
            }

            var opt8=0;
            var lizhu = function()
            {
                if(PointOrNot==0)
                {
                    PointOrNot=1;
                    for(var i=5;i<76;i++)
                    {
                        if(i!=30 & i!=31 & i!=32 & i!=33)
                        {
                            for(var j=0;j<scene.geometries[i]._meshes.length;j++)
                            {
                                scene.geometries[i]._meshes[j].isVisible=false;
                            }
                        }
                    }
                    opt8=1;
                }
                else
                {
                    if(opt8==1)
                    {
                        for(var i=30;i<34;i++)
                        {
                            for(var j=0;j<scene.geometries[i]._meshes.length;j++)
                            {
                                scene.geometries[i]._meshes[j].isVisible=false;
                            }
                        }
                        opt8=0;
                    }
                    else
                    {
                        for(var i=30;i<34;i++)
                        {
                            for(var j=0;j<scene.geometries[i]._meshes.length;j++)
                            {
                                scene.geometries[i]._meshes[j].isVisible=true;
                            }
                        }
                        opt8=1;
                    }
                }
            }

            var opt9=0;
            var lunyi = function()
            {
                if(PointOrNot==0)
                {
                    PointOrNot=1;
                    for(var i=5;i<76;i++)
                    {
                        if(i!=34 & i!=35 &i!=36)
                        {
                            for(var j=0;j<scene.geometries[i]._meshes.length;j++)
                            {
                                scene.geometries[i]._meshes[j].isVisible=false;
                            }
                        }
                    }
                    opt9=1;
                }
                else
                {
                    if(opt9==1)
                    {
                        for(var i=34;i<37;i++)
                        {
                            for(var j=0;j<scene.geometries[i]._meshes.length;j++)
                            {
                                scene.geometries[i]._meshes[j].isVisible=false;
                            }
                        }
                        opt9=0;
                    }
                    else
                    {
                        for(var i=34;i<37;i++)
                        {
                            for(var j=0;j<scene.geometries[i]._meshes.length;j++)
                            {
                                scene.geometries[i]._meshes[j].isVisible=true;
                            }
                        }
                        opt9=1;
                    }
                }
            }


            var opt10=0;
            var guangyuan = function()
            {
                if(PointOrNot==0)
                {
                    PointOrNot=1;
                    for(var i=5;i<76;i++)
                    {
                        if(i!=46 & i!=47)
                        {
                            for(var j=0;j<scene.geometries[i]._meshes.length;j++)
                            {
                                scene.geometries[i]._meshes[j].isVisible=false;
                            }
                        }
                    }
                    opt10=1;
                }
                else
                {
                    if(opt10==1)
                    {
                        for(var i=46;i<48;i++)
                        {
                            for(var j=0;j<scene.geometries[i]._meshes.length;j++)
                            {
                                scene.geometries[i]._meshes[j].isVisible=false;
                            }
                        }
                        opt10=0;
                    }
                    else
                    {
                        for(var i=46;i<48;i++)
                        {
                            for(var j=0;j<scene.geometries[i]._meshes.length;j++)
                            {
                                scene.geometries[i]._meshes[j].isVisible=true;
                            }
                        }
                        opt10=1;
                    } 
                }
            }


            var opt11=0;
            var zhongban = function()
            {
                if(PointOrNot==0)
                {
                    PointOrNot=1;
                    for(var i=5;i<76;i++)
                    {
                        if(i!=37)
                        {
                            for(var j=0;j<scene.geometries[i]._meshes.length;j++)
                            {
                                scene.geometries[i]._meshes[j].isVisible=false;
                            }
                        }
                    }
                    opt11=1;
                }
                else
                {
                    if(opt11==1)
                    {
                        for(var j=0;j<scene.geometries[37]._meshes.length;j++)
                        {
                            scene.geometries[37]._meshes[j].isVisible=false;
                        }
                        opt11=0;
                    }
                    else
                    {
                        for(var j=0;j<scene.geometries[37]._meshes.length;j++)
                        {
                            scene.geometries[37]._meshes[j].isVisible=true;
                        }
                        opt11=1;
                    }
                }
            }

            var opt12=0;
            var xiangji = function()
            {
                if(PointOrNot==0)
                {
                    PointOrNot=1;
                    for(var i=5;i<76;i++)
                    {
                        if(i!=38 & i!=39 & i!=40 & i!=41 & i!= 42 & i!=43 & i!= 44 & i!=45 & i!=48)
                        {
                            for(var j=0;j<scene.geometries[i]._meshes.length;j++)
                            {
                                scene.geometries[i]._meshes[j].isVisible=false;
                            }
                        }
                    }
                    opt12=1;
                }
                else
                {
                    if(opt12==1)
                    {
                        for(var i =38;i<46;i++)
                        {
                            for(var j=0;j<scene.geometries[i]._meshes.length;j++)
                            {
                                scene.geometries[i]._meshes[j].isVisible=false;
                            }
                        }
                        for(var j=0;j<scene.geometries[48]._meshes.length;j++)
                        {
                            scene.geometries[48]._meshes[j].isVisible=false;
                        }
                        opt12=0;
                    }
                    else
                    {
                        for(var i =38;i<46;i++)
                        {
                            for(var j=0;j<scene.geometries[i]._meshes.length;j++)
                            {
                                scene.geometries[i]._meshes[j].isVisible=true;
                                
                            }
                        }
                        for(var j=0;j<scene.geometries[48]._meshes.length;j++)
                        {
                            scene.geometries[48]._meshes[j].isVisible=true;
                        }
                        opt12=1;
                    }
                }
            }


            var opt13=0;
            var dingbanxingcai = function()
            {
                if(PointOrNot==0)
                {
                    for(var i =5;i<76;i++)
                    {
                        if(i!=49 & i!=50)
                        {
                            for(var j=0;j<scene.geometries[i]._meshes.length;j++)
                            {
                                scene.geometries[i]._meshes[j].isVisible=false;
                            }
                        }
                    }
                    opt13=1;
                }
                else
                {
                    if(opt13==1)
                    {
                        for(var i = 49;i<51;i++)
                        {
                            for(var j =0;j<scene.geometries[i]._meshes.length;j++)
                            {
                                scene.geometries[i]._meshes[j].isVisible=false;
                            }
                        }
                        opt13=0;
                    }
                    else
                    {
                        for(var i = 49;i<51;i++)
                        {
                            for(var j =0;j<scene.geometries[i]._meshes.length;j++)
                            {
                                scene.geometries[i]._meshes[j].isVisible=true;
                            }
                        }
                        opt13=1;
                    }
                }
            }

            var opt14 =0;
            var dingban=function ()
            {
                if(PointOrNot==0)
                {
                    PointOrNot=1;
                    for(var i=5;i<76;i++)
                    {
                        if(i!=51 & i!=52)
                        {
                            for(var j=0;j<scene.geometries[i]._meshes.length;j++)
                            {
                                scene.geometries[i]._meshes[j].isVisible=false;
                            }
                        }
                    }
                    opt14=1;
                }
                else
                {
                    if(opt14==1)
                    {
                        for(var j=0;j<scene.geometries[51]._meshes.length;j++)
                        {
                            scene.geometries[51]._meshes[j].isVisible=false;
                        };
                        for(var j=0;j<scene.geometries[52]._meshes.length;j++)
                        {
                            scene.geometries[52]._meshes[j].isVisible=false;
                        }
                        opt14=0;
                    }
                    else
                    {
                        for(var j=0;j<scene.geometries[51]._meshes.length;j++)
                        {
                            scene.geometries[51]._meshes[j].isVisible=true;
                        };
                        for(var j=0;j<scene.geometries[52]._meshes.length;j++)
                        {
                            scene.geometries[52]._meshes[j].isVisible=true;
                        }
                        opt14=1;
                    }
                }
            }

            var opt15=0;
            var dianchihe = function()
            {
                if(PointOrNot==0)
                {
                    PointOrNot=1;
                    for(var i=5;i<76;i++)
                    {
                        if(i!=53)
                        {
                            for(var j=0;j<scene.geometries[i]._meshes.length;j++)
                            {
                                scene.geometries[i]._meshes[j].isVisible=false;
                            }
                        }
                    }
                    opt15=1;
                }
                else
                {
                    if(opt15==1)
                    {
                        for(var j=0;j<scene.geometries[53]._meshes.length;j++)
                        {
                            scene.geometries[53]._meshes[j].isVisible=false;
                        }
                        opt15=0;
                    }
                    else
                    {
                        for(var j=0;j<scene.geometries[53]._meshes.length;j++)
                        {
                            scene.geometries[53]._meshes[j].isVisible=true;
                        }
                        opt15=1;
                    }
                }
            }

            var opt16=0;
            var fushou = function ()
            {
                if(PointOrNot==0)
                {
                    PointOrNot=1;
                    for(var i =5;i<76;i++)
                    {
                        if(i!=54 & i!=55)
                        {
                            for(var j=0;j<scene.geometries[i]._meshes.length;i++)
                            {
                                scene.geometries[i]._meshes[j].isVisible=false;
                            }
                        }
                    }
                    opt16=1;
                }
                else
                {
                    if(opt16==1)
                    {
                        for(var j=0;j<scene.geometries[54]._meshes.length;j++)
                        {
                            scene.geometries[54]._meshes[j].isVisible=false;
                        };
                        for(var j=0;j<scene.geometries[55]._meshes.length;j++)
                        {
                            scene.geometries[55]._meshes[j].isVisible=false;
                        }
                        opt16=0;

                    }
                    else
                    {
                        for(var j=0;j<scene.geometries[54]._meshes.length;j++)
                        {
                            scene.geometries[54]._meshes[j].isVisible=true;
                        };
                        for(var j=0;j<scene.geometries[55]._meshes.length;j++)
                        {
                            scene.geometries[55]._meshes[j].isVisible=true;
                        }
                        opt16=1;
                    }
                }
            }
            var PointOrNot=0
            var creatButton = function(){
                    console.log(scene)
                    var gui5 = BABYLON.GUI.AdvancedDynamicTexture.CreateFullscreenUI("myUI");
                    var button5 = BABYLON.GUI.Button.CreateSimpleButton("button", "角马");
                    button5.top = "100px";
                    button5.left = "600px";
                    button5.width = "70px";
                    button5.height = "25px";
                    button5.cornerRadius = 20;
                    button5.thickness = 4;
                    button5.children[0].color = "#DFF9FB";
                    button5.children[0].fontSize = 12;
                    button5.color = "#FF7979";
                    button5.background = "#EB4D4B";
                    gui5.addControl(button5);
                    button5.onPointerUpObservable.add(function(){
                        
                        jiaoma();
                        
                        if(opt1==1)
                        {
                            button5.color="#00AA00";
                        }
                        else
                        {
                            button5.color="#FF7979";
                        }
                        
                    });
                    var gui7 = BABYLON.GUI.AdvancedDynamicTexture.CreateFullscreenUI("myUI");
                    var button7 = BABYLON.GUI.Button.CreateSimpleButton("button", "夹持轮");
                    button7.top = "-275px";
                    button7.left = "600px";
                    button7.width = "70px";
                    button7.height = "25px";
                    button7.cornerRadius = 20;
                    button7.thickness = 4;
                    button7.children[0].color = "#DFF9FB";
                    button7.children[0].fontSize = 12;
                    button7.color = "#FF7979";
                    button7.background = "#EB4D4B";
                    gui7.addControl(button7);
                    button7.onPointerUpObservable.add(function(){
                        
                        jiachilun();
                        if(opt2==1)
                        {
                            button7.color="#00AA00";
                        }
                        else
                        {
                            button7.color="#FF7979";
                        }
                    })
                    var gui8 = BABYLON.GUI.AdvancedDynamicTexture.CreateFullscreenUI("myUI");
                    var button8 = BABYLON.GUI.Button.CreateSimpleButton("button", "底板");
                    button8.top = "-250px";
                    button8.left = "600px";
                    button8.width = "70px";
                    button8.height = "25px";
                    button8.cornerRadius = 20;
                    button8.thickness = 4;
                    button8.children[0].color = "#DFF9FB";
                    button8.children[0].fontSize = 12;
                    button8.color = "#FF7979";
                    button8.background = "#EB4D4B";
                    gui8.addControl(button8);
                    button8.onPointerUpObservable.add(function(){
                        
                        diban();
                        if(opt3==1)
                        {
                            button8.color="#00AA00";
                        }
                        else
                        {
                            button8.color="#FF7979";
                        }
                    })
                    var gui9 = BABYLON.GUI.AdvancedDynamicTexture.CreateFullscreenUI("myUI");
                    var button9 = BABYLON.GUI.Button.CreateSimpleButton("button", "槽轮");
                    button9.top = "-225px";
                    button9.left = "600px";
                    button9.width = "70px";
                    button9.height = "25px";
                    button9.cornerRadius = 20;
                    button9.thickness = 4;
                    button9.children[0].color = "#DFF9FB";
                    button9.children[0].fontSize = 12;
                    button9.color = "#FF7979";
                    button9.background = "#EB4D4B";
                    gui9.addControl(button9);
                    button9.onPointerUpObservable.add(function(){
                        
                        caolun();
                        if(opt4==1)
                        {
                            button9.color="#00AA00";
                        }
                        else
                        {
                            button9.color="#FF7979";
                        }
                    })
                    var gui10 = BABYLON.GUI.AdvancedDynamicTexture.CreateFullscreenUI("myUI");
                    var button10 = BABYLON.GUI.Button.CreateSimpleButton("button", "夹持轮顶板");
                    button10.top = "-200px";
                    button10.left = "600px";
                    button10.width = "70px";
                    button10.height = "25px";
                    button10.cornerRadius = 20;
                    button10.thickness = 4;
                    button10.children[0].color = "#DFF9FB";
                    button10.children[0].fontSize = 12;
                    button10.color = "#FF7979";
                    button10.background = "#EB4D4B";
                    gui10.addControl(button10);
                    button10.onPointerUpObservable.add(function(){
                        jiachilundingban();
                        if(opt5==1)
                        {
                            button10.color="#00AA00";
                        }
                        else
                        {
                            button10.color="#FF7979";
                        }
                        
                    })


                    var gui11 = BABYLON.GUI.AdvancedDynamicTexture.CreateFullscreenUI("myUI");
                    var button11 = BABYLON.GUI.Button.CreateSimpleButton("button", "电池板");
                    button11.top = "-175px";
                    button11.left = "600px";
                    button11.width = "70px";
                    button11.height = "25px";
                    button11.cornerRadius = 20;
                    button11.thickness = 4;
                    button11.children[0].color = "#DFF9FB";
                    button11.children[0].fontSize = 12;
                    button11.color = "#FF7979";
                    button11.background = "#EB4D4B";
                    gui11.addControl(button11);
                    button11.onPointerUpObservable.add(function(){
                        dianchiban();
                        if(opt6==1)
                        {
                            button11.color="#00AA00";
                        }
                        else
                        {
                            button11.color="#FF7979";
                        }
                    })


                    var gui12 = BABYLON.GUI.AdvancedDynamicTexture.CreateFullscreenUI("myUI");
                    var button12 = BABYLON.GUI.Button.CreateSimpleButton("button", "激光夹具");
                    button12.top = "-150px";
                    button12.left = "600px";
                    button12.width = "70px";
                    button12.height = "25px";
                    button12.cornerRadius = 20;
                    button12.thickness = 4;
                    button12.children[0].color = "#DFF9FB";
                    button12.children[0].fontSize = 12;
                    button12.color = "#FF7979";
                    button12.background = "#EB4D4B";
                    gui12.addControl(button12);
                    button12.onPointerUpObservable.add(function(){
                        jiguangjiaju();
                        if(opt7==1)
                        {
                            button12.color="#00AA00";
                        }
                        else
                        {
                            button12.color="#FF7979";
                        }
                    })

                    var gui13 = BABYLON.GUI.AdvancedDynamicTexture.CreateFullscreenUI("myUI");
                    var button13 = BABYLON.GUI.Button.CreateSimpleButton("button", "立柱");
                    button13.top = "-125px";
                    button13.left = "600px";
                    button13.width = "70px";
                    button13.height = "25px";
                    button13.cornerRadius = 20;
                    button13.thickness = 4;
                    button13.children[0].color = "#DFF9FB";
                    button13.children[0].fontSize = 12;
                    button13.color = "#FF7979";
                    button13.background = "#EB4D4B";
                    gui13.addControl(button13);
                    button13.onPointerUpObservable.add(function(){
                        lizhu();
                        if(opt8==1)
                        {
                            button13.color="#00AA00";
                        }
                        else
                        {
                            button13.color="#FF7979";
                        }
                    })
                    //轮翼电机
                    var gui14 = BABYLON.GUI.AdvancedDynamicTexture.CreateFullscreenUI("myUI");
                    var button14 = BABYLON.GUI.Button.CreateSimpleButton("button", "轮翼电机");
                    button14.top = "-100px";
                    button14.left = "600px";
                    button14.width = "70px";
                    button14.height = "25px";
                    button14.cornerRadius = 20;
                    button14.thickness = 4;
                    button14.children[0].color = "#DFF9FB";
                    button14.children[0].fontSize = 12;
                    button14.color = "#FF7979";
                    button14.background = "#EB4D4B";
                    gui14.addControl(button14);
                    button14.onPointerUpObservable.add(function(){
                        lunyi();
                        if(opt9==1)
                        {
                            button14.color="#00AA00";
                        }
                        else
                        {
                            button14.color="#FF7979";
                        }
                    })


                    var gui15 = BABYLON.GUI.AdvancedDynamicTexture.CreateFullscreenUI("myUI");
                    var button15 = BABYLON.GUI.Button.CreateSimpleButton("button", "光源");
                    button15.top = "-75px";
                    button15.left = "600px";
                    button15.width = "70px";
                    button15.height = "25px";
                    button15.cornerRadius = 20;
                    button15.thickness = 4;
                    button15.children[0].color = "#DFF9FB";
                    button15.children[0].fontSize = 12;
                    button15.color = "#FF7979";
                    button15.background = "#EB4D4B";
                    gui15.addControl(button15);
                    button15.onPointerUpObservable.add(function(){
                        guangyuan();
                        if(opt10==1)
                        {
                            button15.color="#00AA00";
                        }
                        else
                        {
                            button15.color="#FF7979";
                        }
                    })

                    var gui16 = BABYLON.GUI.AdvancedDynamicTexture.CreateFullscreenUI("myUI");
                    var button16 = BABYLON.GUI.Button.CreateSimpleButton("button", "中板");
                    button16.top = "-50px";
                    button16.left = "600px";
                    button16.width = "70px";
                    button16.height = "25px";
                    button16.cornerRadius = 20;
                    button16.thickness = 4;
                    button16.children[0].color = "#DFF9FB";
                    button16.children[0].fontSize = 12;
                    button16.color = "#FF7979";
                    button16.background = "#EB4D4B";
                    gui16.addControl(button16);
                    button16.onPointerUpObservable.add(function(){
                        zhongban();
                        if(opt11==1)
                        {
                            button16.color="#00AA00";
                        }
                        else
                        {
                            button16.color="#FF7979";
                        }
                    })

                    var gui17 = BABYLON.GUI.AdvancedDynamicTexture.CreateFullscreenUI("myUI");
                    var button17 = BABYLON.GUI.Button.CreateSimpleButton("button", "相机");
                    button17.top = "-25px";
                    button17.left = "600px";
                    button17.width = "70px";
                    button17.height = "25px";
                    button17.cornerRadius = 20;
                    button17.thickness = 4;
                    button17.children[0].color = "#DFF9FB";
                    button17.children[0].fontSize = 12;
                    button17.color = "#FF7979";
                    button17.background = "#EB4D4B";
                    gui17.addControl(button17);
                    button17.onPointerUpObservable.add(function(){
                        xiangji();
                        if(opt12==1)
                        {
                            button17.color="#00AA00";
                        }
                        else
                        {
                            button17.color="#FF7979";
                        }
                    })

                    var gui18 = BABYLON.GUI.AdvancedDynamicTexture.CreateFullscreenUI("myUI");
                    var button18 = BABYLON.GUI.Button.CreateSimpleButton("button", "顶板型材");
                    button18.top = "0px";
                    button18.left = "600px";
                    button18.width = "70px";
                    button18.height = "25px";
                    button18.cornerRadius = 20;
                    button18.thickness = 4;
                    button18.children[0].color = "#DFF9FB";
                    button18.children[0].fontSize = 12;
                    button18.color = "#FF7979";
                    button18.background = "#EB4D4B";
                    gui18.addControl(button18);
                    button18.onPointerUpObservable.add(function(){
                        dingbanxingcai();
                        if(opt13==1)
                        {
                            button18.color="#00AA00";
                        }
                        else
                        {
                            button18.color="#FF7979";
                        }
                    })

                    var gui19 = BABYLON.GUI.AdvancedDynamicTexture.CreateFullscreenUI("myUI");
                    var button19 = BABYLON.GUI.Button.CreateSimpleButton("button", "顶板");
                    button19.top = "25px";
                    button19.left = "600px";
                    button19.width = "70px";
                    button19.height = "25px";
                    button19.cornerRadius = 20;
                    button19.thickness = 4;
                    button19.children[0].color = "#DFF9FB";
                    button19.children[0].fontSize = 12;
                    button19.color = "#FF7979";
                    button19.background = "#EB4D4B";
                    gui19.addControl(button19);
                    button19.onPointerUpObservable.add(function(){
                        dingban();
                        if(opt14==1)
                        {
                            button19.color="#00AA00";
                        }
                        else
                        {
                            button19.color="#FF7979";
                        }
                    })

                    var gui20 = BABYLON.GUI.AdvancedDynamicTexture.CreateFullscreenUI("myUI");
                    var button20 = BABYLON.GUI.Button.CreateSimpleButton("button", "电池盒");
                    button20.top = "50px";
                    button20.left = "600px";
                    button20.width = "70px";
                    button20.height = "25px";
                    button20.cornerRadius = 20;
                    button20.thickness = 4;
                    button20.children[0].color = "#DFF9FB";
                    button20.children[0].fontSize = 12;
                    button20.color = "#FF7979";
                    button20.background = "#EB4D4B";
                    gui20.addControl(button20);
                    button20.onPointerUpObservable.add(function(){
                        dianchihe();
                        if(opt15==1)
                        {
                            button20.color="#00AA00";
                        }
                        else
                        {
                            button20.color="#FF7979";
                        }
                    })

                    var gui21 = BABYLON.GUI.AdvancedDynamicTexture.CreateFullscreenUI("myUI");
                    var button21 = BABYLON.GUI.Button.CreateSimpleButton("button", "扶手");
                    button21.top = "75px";
                    button21.left = "600px";
                    button21.width = "70px";
                    button21.height = "25px";
                    button21.cornerRadius = 20;
                    button21.thickness = 4;
                    button21.children[0].color = "#DFF9FB";
                    button21.children[0].fontSize = 12;
                    button21.color = "#FF7979";
                    button21.background = "#EB4D4B";
                    gui21.addControl(button21);
                    button21.onPointerUpObservable.add(function(){
                        fushou();
                        if(opt16==1)
                        {
                            button21.color="#00AA00";
                        }
                        else
                        {
                            button21.color="#FF7979";
                        }
                    })

                    var gui6 = BABYLON.GUI.AdvancedDynamicTexture.CreateFullscreenUI("myUI");
                    var button6 = BABYLON.GUI.Button.CreateSimpleButton("button", "恢复");
                    button6.top = "300px";
                    button6.left = "600px";
                    button6.width = "70px";
                    button6.height = "25px";
                    button6.cornerRadius = 20;
                    button6.thickness = 4;
                    button6.children[0].color = "#DFF9FB";
                    button6.children[0].fontSize = 12;
                    button6.color = "#FF7979";
                    button6.background = "#EB4D4B";
                    gui6.addControl(button6);
                    button6.onPointerUpObservable.add(function(){
                        clear();
                        opt1=0;
                        opt2=0;
                        opt3=0;
                        opt4=0;
                        opt5=0;
                        opt6=0;
                        opt7=0;
                        opt8=0;
                        opt9=0;
                        opt10=0;
                        opt11=0;
                        opt12=0;
                        opt13=0;
                        opt14=0;
                        opt15=0;
                        opt16=0;
                        button5.color="#FF7979";
                        button6.color="#FF7979";
                        button7.color="#FF7979";
                        button8.color="#FF7979";
                        button9.color="#FF7979";
                        button10.color="#FF7979";
                        button11.color="#FF7979";
                        button12.color="#FF7979";
                        button13.color="#FF7979";
                        button14.color="#FF7979";
                        button15.color="#FF7979";
                        button16.color="#FF7979";
                        button17.color="#FF7979";
                        button18.color="#FF7979";
                        button19.color="#FF7979";
                        button20.color="#FF7979";
                        button21.color="#FF7979";
                    })

                    
            };
            
            
            //const xrHelper = await scene.createDefaultXRExperienceAsync();
            return scene
        }
                var engine;
                var scene;
                initFunction = async function() {               
                    var asyncEngineCreation = async function() {
                        try {
                        return createDefaultEngine();
                        } catch(e) {
                        console.log("the available createEngine function failed. Creating the default engine instead");
                        return createDefaultEngine();
                        }
                    }

                    engine = await asyncEngineCreation();
        if (!engine) throw 'engine should not be null.';
        scene = createScene();};
        initFunction().then(() => {sceneToRender = scene        
            engine.runRenderLoop(function () {
                if (sceneToRender && sceneToRender.activeCamera) {
                    sceneToRender.render();
                }
            });
        });

        // Resize
        window.addEventListener("resize", function () {
            engine.resize();
        });
    </script><button class="babylonVRicon" id="babylonVRiconbtn" title="Click to switch to VR" style="top: 899px; left: 1820px;"></button>


</body></html>